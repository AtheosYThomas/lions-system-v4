🚀 開始系統完整診斷...

🔍 步驟 1: 掃描 /src 目錄錯誤...
🔍 步驟 2: 檢查環境變數...
🔍 步驟 3: 檢查前端檔案...
🔍 步驟 4: 執行 Health Check 測試...
📊 步驟 5: 彙整診斷報告...

📄 診斷報告已儲存至: /home/runner/workspace/diagnostic_report.json

📋 診斷摘要:
✅ 通過: 3
⚠️  警告: 37
❌ 失敗: 2

🔥 發現的問題:
1. [程式碼掃描] 檔案 controllers/liffController.ts 發現錯誤
   詳細: ["未定義的環境變數: NODE_ENV","未定義的環境變數: NODE_ENV","未定義的環境變數: NODE_ENV","未定義的環境變數: NODE_ENV"]
   建議: 檢查匯入路徑, 確認環境變數設定, 檢查語法正確性
2. [Health Check] Health Check 連線失敗
   詳細: "connect ECONNREFUSED 127.0.0.1:5000"
   建議: 確認伺服器已啟動, 檢查埠號設定, 確認防火牆設定

⚠️ 警告事項:
1. [前端檔案檢查] 括號不匹配: node_modules/vite/dist/node/chunks/dep-f1e8587f.js
   建議: 檢查括號配對, 使用程式碼格式化工具
2. [前端檔案檢查] 括號不匹配: node_modules/vite/dist/node/chunks/dep-f0c7dae0.js
   建議: 檢查括號配對, 使用程式碼格式化工具
3. [前端檔案檢查] 括號不匹配: node_modules/vite/dist/node/chunks/dep-827b23df.js
   建議: 檢查括號配對, 使用程式碼格式化工具
4. [前端檔案檢查] 括號不匹配: node_modules/typescript/lib/typingsInstaller.js
   建議: 檢查括號配對, 使用程式碼格式化工具
5. [前端檔案檢查] 括號不匹配: node_modules/typescript/lib/typescriptServices.js
   建議: 檢查括號配對, 使用程式碼格式化工具
6. [前端檔案檢查] 括號不匹配: node_modules/typescript/lib/typescript.js
   建議: 檢查括號配對, 使用程式碼格式化工具
7. [前端檔案檢查] 括號不匹配: node_modules/typescript/lib/tsserverlibrary.js
   建議: 檢查括號配對, 使用程式碼格式化工具
8. [前端檔案檢查] 括號不匹配: node_modules/typescript/lib/tsserverlibrary.d.ts
   建議: 檢查括號配對, 使用程式碼格式化工具
9. [前端檔案檢查] 括號不匹配: node_modules/typescript/lib/tsserver.js
   建議: 檢查括號配對, 使用程式碼格式化工具
10. [前端檔案檢查] 括號不匹配: node_modules/typescript/lib/tsc.js
   建議: 檢查括號配對, 使用程式碼格式化工具
11. [前端檔案檢查] 括號不匹配: node_modules/typescript/lib/protocol.d.ts
   建議: 檢查括號配對, 使用程式碼格式化工具
12. [前端檔案檢查] HTML 檔案結構不完整: node_modules/tslib/tslib.html
   建議: 檢查 HTML 基本結構, 確認標籤完整性
13. [前端檔案檢查] HTML 檔案結構不完整: node_modules/tslib/tslib.es6.html
   建議: 檢查 HTML 基本結構, 確認標籤完整性
14. [前端檔案檢查] 括號不匹配: node_modules/source-map-js/lib/util.js
   建議: 檢查括號配對, 使用程式碼格式化工具
15. [前端檔案檢查] 括號不匹配: node_modules/rollup/dist/shared/rollup.js
   建議: 檢查括號配對, 使用程式碼格式化工具
16. [前端檔案檢查] 括號不匹配: node_modules/rollup/dist/shared/loadConfigFile.js
   建議: 檢查括號配對, 使用程式碼格式化工具
17. [前端檔案檢查] 括號不匹配: node_modules/rollup/dist/shared/index.js
   建議: 檢查括號配對, 使用程式碼格式化工具
18. [前端檔案檢查] 括號不匹配: node_modules/rollup/dist/es/shared/watch.js
   建議: 檢查括號配對, 使用程式碼格式化工具
19. [前端檔案檢查] 括號不匹配: node_modules/rollup/dist/es/shared/node-entry.js
   建議: 檢查括號配對, 使用程式碼格式化工具
20. [前端檔案檢查] 括號不匹配: node_modules/readable-stream/lib/ours/util/inspect.js
   建議: 檢查括號配對, 使用程式碼格式化工具
21. [前端檔案檢查] 括號不匹配: node_modules/qs/test/parse.js
   建議: 檢查括號配對, 使用程式碼格式化工具
22. [前端檔案檢查] 括號不匹配: node_modules/postcss/lib/rule.d.ts
   建議: 檢查括號配對, 使用程式碼格式化工具
23. [前端檔案檢查] 括號不匹配: node_modules/postcss/lib/parser.js
   建議: 檢查括號配對, 使用程式碼格式化工具
24. [前端檔案檢查] 括號不匹配: node_modules/postcss/lib/node.d.ts
   建議: 檢查括號配對, 使用程式碼格式化工具
25. [前端檔案檢查] 括號不匹配: node_modules/postcss/lib/css-syntax-error.d.ts
   建議: 檢查括號配對, 使用程式碼格式化工具
26. [前端檔案檢查] 括號不匹配: node_modules/postcss/lib/at-rule.d.ts
   建議: 檢查括號配對, 使用程式碼格式化工具
27. [前端檔案檢查] 括號不匹配: node_modules/json5/lib/parse.js
   建議: 檢查括號配對, 使用程式碼格式化工具
28. [前端檔案檢查] 括號不匹配: node_modules/json5/dist/index.js
   建議: 檢查括號配對, 使用程式碼格式化工具
29. [前端檔案檢查] 括號不匹配: node_modules/jsesc/jsesc.js
   建議: 檢查括號配對, 使用程式碼格式化工具
30. [前端檔案檢查] 括號不匹配: node_modules/js-tokens/index.js
   建議: 檢查括號配對, 使用程式碼格式化工具
31. [前端檔案檢查] 括號不匹配: node_modules/file-type/core.js
   建議: 檢查括號配對, 使用程式碼格式化工具
32. [前端檔案檢查] 括號不匹配: node_modules/body-parser/lib/types/json.js
   建議: 檢查括號配對, 使用程式碼格式化工具
33. [前端檔案檢查] 括號不匹配: node_modules/@babel/parser/lib/index.js
   建議: 檢查括號配對, 使用程式碼格式化工具
34. [前端檔案檢查] 括號不匹配: node_modules/@babel/helper-string-parser/lib/index.js
   建議: 檢查括號配對, 使用程式碼格式化工具
35. [前端檔案檢查] 括號不匹配: node_modules/@babel/generator/lib/generators/types.js
   建議: 檢查括號配對, 使用程式碼格式化工具
36. [前端檔案檢查] 括號不匹配: node_modules/@babel/generator/lib/generators/template-literals.js
   建議: 檢查括號配對, 使用程式碼格式化工具
37. [前端檔案檢查] 括號不匹配: node_modules/@babel/generator/lib/generators/modules.js
   建議: 檢查括號配對, 使用程式碼格式化工具

✅ 診斷完成！
npm notice
npm notice New major version of npm available! 10.9.0 -> 11.4.2
npm notice Changelog: https://github.com/npm/cli/releases/tag/v11.4.2
npm notice To update run: npm install -g npm@11.4.2
npm notice

{
  "timestamp": "2025-07-18T15:07:03.912Z",
  "summary": {
    "totalIssues": 4,
    "errors": 3,
    "warnings": 0,
    "info": 1,
    "healthScore": 35
  },
  "issues": [
    {
      "category": "TypeScript編譯",
      "severity": "high",
      "issue": "TypeScript 編譯錯誤",
      "details": "src/integrations/line/lineService.ts(175,50): error TS2345: Argument of type '{ type: \"flex\"; altText: string; contents: { type: \"bubble\"; body: { type: \"box\"; layout: \"vertical\"; contents: ({ type: string; text: string; weight: string; size: string; color: string; margin?: undefined; wrap?: undefined; } | { ...; } | { ...; })[]; }; footer: { ...; }; }; }' is not assignable to parameter of type 'Message | Message[]'.\n  Type '{ type: \"flex\"; altText: string; contents: { type: \"bubble\"; body: { type: \"box\"; layout: \"vertical\"; contents: ({ type: string; text: string; weight: string; size: string; color: string; margin?: undefined; wrap?: undefined; } | { ...; } | { ...; })[]; }; footer: { ...; }; }; }' is not assignable to type 'FlexMessage'.\n    Type '{ type: \"flex\"; altText: string; contents: { type: \"bubble\"; body: { type: \"box\"; layout: \"vertical\"; contents: ({ type: string; text: string; weight: string; size: string; color: string; margin?: undefined; wrap?: undefined; } | { ...; } | { ...; })[]; }; footer: { ...; }; }; }' is not assignable to type '{ type: \"flex\"; altText: string; contents: FlexContainer; }'.\n      Types of property 'contents' are incompatible.\n        Type '{ type: \"bubble\"; body: { type: \"box\"; layout: \"vertical\"; contents: ({ type: string; text: string; weight: string; size: string; color: string; margin?: undefined; wrap?: undefined; } | { type: string; text: string; ... 4 more ...; wrap?: undefined; } | { ...; })[]; }; footer: { ...; }; }' is not assignable to type 'FlexContainer'.\n          Type '{ type: \"bubble\"; body: { type: \"box\"; layout: \"vertical\"; contents: ({ type: string; text: string; weight: string; size: string; color: string; margin?: undefined; wrap?: undefined; } | { type: string; text: string; ... 4 more ...; wrap?: undefined; } | { ...; })[]; }; footer: { ...; }; }' is not assignable to type 'FlexBubble'.\n            Types of property 'body' are incompatible.\n              Type '{ type: \"box\"; layout: \"vertical\"; contents: ({ type: string; text: string; weight: string; size: string; color: string; margin?: undefined; wrap?: undefined; } | { type: string; text: string; weight: string; size: string; margin: string; color?: undefined; wrap?: undefined; } | { ...; })[]; }' is not assignable to type 'FlexBox'.\n                Type '{ type: \"box\"; layout: \"vertical\"; contents: ({ type: string; text: string; weight: string; size: string; color: string; margin?: undefined; wrap?: undefined; } | { type: string; text: string; weight: string; size: string; margin: string; color?: undefined; wrap?: undefined; } | { ...; })[]; }' is not assignable to type '{ type: \"box\"; layout: \"vertical\" | \"horizontal\" | \"baseline\"; contents: FlexComponent[]; backgroundColor?: string | undefined; borderColor?: string | undefined; borderWidth?: string | undefined; ... 16 more ...; background?: Background | undefined; }'.\n                  Types of property 'contents' are incompatible.\n                    Type '({ type: string; text: string; weight: string; size: string; color: string; margin?: undefined; wrap?: undefined; } | { type: string; text: string; weight: string; size: string; margin: string; color?: undefined; wrap?: undefined; } | { ...; })[]' is not assignable to type 'FlexComponent[]'.\n                      Type '{ type: string; text: string; weight: string; size: string; color: string; margin?: undefined; wrap?: undefined; } | { type: string; text: string; weight: string; size: string; margin: string; color?: undefined; wrap?: undefined; } | { ...; }' is not assignable to type 'FlexComponent'.\n                        Type '{ type: string; text: string; weight: string; size: string; color: string; margin?: undefined; wrap?: undefined; }' is not assignable to type 'FlexComponent'.\n                          Type '{ type: string; text: string; weight: string; size: string; color: string; margin?: undefined; wrap?: undefined; }' is not assignable to type 'FlexSpan'.\n                            Types of property 'type' are incompatible.\n                              Type 'string' is not assignable to type '\"span\"'.\nsrc/integrations/line/lineService.ts(261,49): error TS2345: Argument of type '{ type: \"flex\"; altText: string; contents: { type: \"bubble\"; body: { type: \"box\"; layout: \"vertical\"; contents: ({ type: string; text: string; weight: string; size: string; color: string; wrap?: undefined; margin?: undefined; } | { ...; } | { ...; })[]; }; footer: { ...; }; }; }' is not assignable to parameter of type 'Message | Message[]'.\n  Type '{ type: \"flex\"; altText: string; contents: { type: \"bubble\"; body: { type: \"box\"; layout: \"vertical\"; contents: ({ type: string; text: string; weight: string; size: string; color: string; wrap?: undefined; margin?: undefined; } | { ...; } | { ...; })[]; }; footer: { ...; }; }; }' is not assignable to type 'FlexMessage'.\n    Type '{ type: \"flex\"; altText: string; contents: { type: \"bubble\"; body: { type: \"box\"; layout: \"vertical\"; contents: ({ type: string; text: string; weight: string; size: string; color: string; wrap?: undefined; margin?: undefined; } | { ...; } | { ...; })[]; }; footer: { ...; }; }; }' is not assignable to type '{ type: \"flex\"; altText: string; contents: FlexContainer; }'.\n      Types of property 'contents' are incompatible.\n        Type '{ type: \"bubble\"; body: { type: \"box\"; layout: \"vertical\"; contents: ({ type: string; text: string; weight: string; size: string; color: string; wrap?: undefined; margin?: undefined; } | { type: string; text: string; ... 4 more ...; margin?: undefined; } | { ...; })[]; }; footer: { ...; }; }' is not assignable to type 'FlexContainer'.\n          Type '{ type: \"bubble\"; body: { type: \"box\"; layout: \"vertical\"; contents: ({ type: string; text: string; weight: string; size: string; color: string; wrap?: undefined; margin?: undefined; } | { type: string; text: string; ... 4 more ...; margin?: undefined; } | { ...; })[]; }; footer: { ...; }; }' is not assignable to type 'FlexBubble'.\n            Types of property 'body' are incompatible.\n              Type '{ type: \"box\"; layout: \"vertical\"; contents: ({ type: string; text: string; weight: string; size: string; color: string; wrap?: undefined; margin?: undefined; } | { type: string; text: string; weight: string; size: string; color?: undefined; wrap?: undefined; margin?: undefined; } | { ...; })[]; }' is not assignable to type 'FlexBox'.\n                Type '{ type: \"box\"; layout: \"vertical\"; contents: ({ type: string; text: string; weight: string; size: string; color: string; wrap?: undefined; margin?: undefined; } | { type: string; text: string; weight: string; size: string; color?: undefined; wrap?: undefined; margin?: undefined; } | { ...; })[]; }' is not assignable to type '{ type: \"box\"; layout: \"vertical\" | \"horizontal\" | \"baseline\"; contents: FlexComponent[]; backgroundColor?: string | undefined; borderColor?: string | undefined; borderWidth?: string | undefined; ... 16 more ...; background?: Background | undefined; }'.\n                  Types of property 'contents' are incompatible.\n                    Type '({ type: string; text: string; weight: string; size: string; color: string; wrap?: undefined; margin?: undefined; } | { type: string; text: string; weight: string; size: string; color?: undefined; wrap?: undefined; margin?: undefined; } | { ...; })[]' is not assignable to type 'FlexComponent[]'.\n                      Type '{ type: string; text: string; weight: string; size: string; color: string; wrap?: undefined; margin?: undefined; } | { type: string; text: string; weight: string; size: string; color?: undefined; wrap?: undefined; margin?: undefined; } | { ...; }' is not assignable to type 'FlexComponent'.\n                        Type '{ type: string; text: string; weight: string; size: string; color: string; wrap?: undefined; margin?: undefined; }' is not assignable to type 'FlexComponent'.\n                          Type '{ type: string; text: string; weight: string; size: string; color: string; wrap?: undefined; margin?: undefined; }' is not assignable to type 'FlexSpan'.\n                            Types of property 'type' are incompatible.\n                              Type 'string' is not assignable to type '\"span\"'.\nsrc/tools/index.ts(11,3): error TS2724: '\"../utils/diagnostics\"' has no exported member named 'createTroubleshootReport'. Did you mean 'generateTroubleshootReport'?\nsrc/types/index.ts(9,15): error TS2724: '\"./registration\"' has no exported member named 'RegistrationAttributes'. Did you mean 'RegistrationStatus'?\nsrc/types/index.ts(9,39): error TS2305: Module '\"./registration\"' has no exported member 'RegistrationCreationAttributes'.\nsrc/types/index.ts(10,42): error TS2305: Module '\"./payment\"' has no exported member 'PaymentRecord'.\nsrc/types/index.ts(10,57): error TS2305: Module '\"./payment\"' has no exported member 'PaymentTransaction'.\nsrc/types/index.ts(82,1): error TS2308: Module './payment.d' has already exported a member named 'PaymentStatus'. Consider explicitly re-exporting to resolve the ambiguity.\nsrc/types/role.ts(66,37): error TS2345: Argument of type 'Role' is not assignable to parameter of type 'Role.President | Role.Admin'.\nsrc/utils/diagnostics/index.ts(57,38): error TS2345: Argument of type '(DiagnosticResult | { database: boolean; models: boolean; env: boolean; errors: string[]; })[]' is not assignable to parameter of type 'DiagnosticResult[]'.\n  Type 'DiagnosticResult | { database: boolean; models: boolean; env: boolean; errors: string[]; }' is not assignable to type 'DiagnosticResult'.\n    Type '{ database: boolean; models: boolean; env: boolean; errors: string[]; }' is missing the following properties from type 'DiagnosticResult': component, status, message\nsrc/utils/index.ts(7,38): error TS2307: Cannot find module './envCheck' or its corresponding type declarations.\n",
      "suggestion": "修正 TypeScript 語法錯誤",
      "status": "error"
    },
    {
      "category": "Routes",
      "severity": "low",
      "issue": "src/routes/api/liff.ts 使用環境變數但未載入 dotenv",
      "details": "可能導致環境變數未正確載入",
      "suggestion": "確認 dotenv 已在主程式載入",
      "status": "info"
    },
    {
      "category": "前端LIFF",
      "severity": "high",
      "issue": "LIFF App ID 未設定",
      "details": "public/liff.html 缺少 LIFF App ID",
      "suggestion": "設定正確的 LIFF App ID",
      "status": "error"
    },
    {
      "category": "LIFF服務",
      "severity": "high",
      "issue": "LIFF 服務未正確配置",
      "details": "Health Check 顯示 LIFF 服務狀態異常",
      "suggestion": "檢查 LIFF 應用程式設定",
      "status": "error"
    }
  ]
}
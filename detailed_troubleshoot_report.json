{
  "timestamp": "2025-07-18T14:49:12.788Z",
  "summary": {
    "totalIssues": 4,
    "errors": 3,
    "warnings": 0,
    "info": 1,
    "healthScore": 35
  },
  "issues": [
    {
      "category": "TypeScript編譯",
      "severity": "high",
      "issue": "TypeScript 編譯錯誤",
      "details": "src/controllers/checkinController.ts(20,54): error TS2769: No overload matches this call.\n  Overload 1 of 2, '(this: ModelStatic<Member>, options: NonNullFindOptions<MemberAttributes>): Promise<Member>', gave the following error.\n    Object literal may only specify known properties, and 'line_uid' does not exist in type 'WhereOptions<MemberAttributes>'.\n  Overload 2 of 2, '(this: ModelStatic<Member>, options?: FindOptions<MemberAttributes> | undefined): Promise<Member | null>', gave the following error.\n    Object literal may only specify known properties, and 'line_uid' does not exist in type 'WhereOptions<MemberAttributes>'.\nsrc/controllers/checkinController.ts(98,54): error TS2769: No overload matches this call.\n  Overload 1 of 2, '(this: ModelStatic<Member>, options: NonNullFindOptions<MemberAttributes>): Promise<Member>', gave the following error.\n    Object literal may only specify known properties, and 'line_uid' does not exist in type 'WhereOptions<MemberAttributes>'.\n  Overload 2 of 2, '(this: ModelStatic<Member>, options?: FindOptions<MemberAttributes> | undefined): Promise<Member | null>', gave the following error.\n    Object literal may only specify known properties, and 'line_uid' does not exist in type 'WhereOptions<MemberAttributes>'.\nsrc/controllers/checkinController.ts(116,27): error TS2339: Property 'line_uid' does not exist on type 'Member'.\nsrc/controllers/registrationController.ts(50,18): error TS2769: No overload matches this call.\n  Overload 1 of 2, '(this: ModelStatic<Member>, options: NonNullFindOptions<MemberAttributes>): Promise<Member>', gave the following error.\n    Object literal may only specify known properties, and 'line_uid' does not exist in type 'WhereOptions<MemberAttributes>'.\n  Overload 2 of 2, '(this: ModelStatic<Member>, options?: FindOptions<MemberAttributes> | undefined): Promise<Member | null>', gave the following error.\n    Object literal may only specify known properties, and 'line_uid' does not exist in type 'WhereOptions<MemberAttributes>'.\nsrc/controllers/registrationController.ts(71,9): error TS2353: Object literal may only specify known properties, and 'line_uid' does not exist in type 'MemberCreationAttributes'.\nsrc/controllers/registrationController.ts(121,18): error TS2769: No overload matches this call.\n  Overload 1 of 2, '(this: ModelStatic<Member>, options: NonNullFindOptions<MemberAttributes>): Promise<Member>', gave the following error.\n    Object literal may only specify known properties, and 'line_uid' does not exist in type 'WhereOptions<MemberAttributes>'.\n  Overload 2 of 2, '(this: ModelStatic<Member>, options?: FindOptions<MemberAttributes> | undefined): Promise<Member | null>', gave the following error.\n    Object literal may only specify known properties, and 'line_uid' does not exist in type 'WhereOptions<MemberAttributes>'.\nsrc/integrations/line/lineService.ts(79,16): error TS2769: No overload matches this call.\n  Overload 1 of 2, '(this: ModelStatic<Member>, options: NonNullFindOptions<MemberAttributes>): Promise<Member>', gave the following error.\n    Object literal may only specify known properties, and 'line_uid' does not exist in type 'WhereOptions<MemberAttributes>'.\n  Overload 2 of 2, '(this: ModelStatic<Member>, options?: FindOptions<MemberAttributes> | undefined): Promise<Member | null>', gave the following error.\n    Object literal may only specify known properties, and 'line_uid' does not exist in type 'WhereOptions<MemberAttributes>'.\nsrc/integrations/line/lineService.ts(92,64): error TS2345: Argument of type 'string | undefined' is not assignable to parameter of type 'string'.\n  Type 'undefined' is not assignable to type 'string'.\nsrc/integrations/line/lineService.ts(170,50): error TS2345: Argument of type '{ type: \"flex\"; altText: string; contents: { type: string; body: { type: string; layout: string; contents: ({ type: string; text: string; weight: string; size: string; color: string; margin?: undefined; wrap?: undefined; } | { ...; } | { ...; })[]; }; footer: { ...; }; }; }' is not assignable to parameter of type 'Message | Message[]'.\n  Type '{ type: \"flex\"; altText: string; contents: { type: string; body: { type: string; layout: string; contents: ({ type: string; text: string; weight: string; size: string; color: string; margin?: undefined; wrap?: undefined; } | { ...; } | { ...; })[]; }; footer: { ...; }; }; }' is not assignable to type 'FlexMessage'.\n    Type '{ type: \"flex\"; altText: string; contents: { type: string; body: { type: string; layout: string; contents: ({ type: string; text: string; weight: string; size: string; color: string; margin?: undefined; wrap?: undefined; } | { ...; } | { ...; })[]; }; footer: { ...; }; }; }' is not assignable to type '{ type: \"flex\"; altText: string; contents: FlexContainer; }'.\n      Types of property 'contents' are incompatible.\n        Type '{ type: string; body: { type: string; layout: string; contents: ({ type: string; text: string; weight: string; size: string; color: string; margin?: undefined; wrap?: undefined; } | { type: string; text: string; ... 4 more ...; wrap?: undefined; } | { ...; })[]; }; footer: { ...; }; }' is not assignable to type 'FlexContainer'.\n          Type '{ type: string; body: { type: string; layout: string; contents: ({ type: string; text: string; weight: string; size: string; color: string; margin?: undefined; wrap?: undefined; } | { type: string; text: string; ... 4 more ...; wrap?: undefined; } | { ...; })[]; }; footer: { ...; }; }' is not assignable to type 'FlexBubble'.\n            Types of property 'type' are incompatible.\n              Type 'string' is not assignable to type '\"bubble\"'.\nsrc/integrations/line/lineService.ts(192,16): error TS2769: No overload matches this call.\n  Overload 1 of 2, '(this: ModelStatic<Member>, options: NonNullFindOptions<MemberAttributes>): Promise<Member>', gave the following error.\n    Object literal may only specify known properties, and 'line_uid' does not exist in type 'WhereOptions<MemberAttributes>'.\n  Overload 2 of 2, '(this: ModelStatic<Member>, options?: FindOptions<MemberAttributes> | undefined): Promise<Member | null>', gave the following error.\n    Object literal may only specify known properties, and 'line_uid' does not exist in type 'WhereOptions<MemberAttributes>'.\nsrc/integrations/line/lineService.ts(256,49): error TS2345: Argument of type '{ type: \"flex\"; altText: string; contents: { type: string; body: { type: string; layout: string; contents: ({ type: string; text: string; weight: string; size: string; color: string; wrap?: undefined; margin?: undefined; } | { ...; } | { ...; })[]; }; footer: { ...; }; }; }' is not assignable to parameter of type 'Message | Message[]'.\n  Type '{ type: \"flex\"; altText: string; contents: { type: string; body: { type: string; layout: string; contents: ({ type: string; text: string; weight: string; size: string; color: string; wrap?: undefined; margin?: undefined; } | { ...; } | { ...; })[]; }; footer: { ...; }; }; }' is not assignable to type 'FlexMessage'.\n    Type '{ type: \"flex\"; altText: string; contents: { type: string; body: { type: string; layout: string; contents: ({ type: string; text: string; weight: string; size: string; color: string; wrap?: undefined; margin?: undefined; } | { ...; } | { ...; })[]; }; footer: { ...; }; }; }' is not assignable to type '{ type: \"flex\"; altText: string; contents: FlexContainer; }'.\n      Types of property 'contents' are incompatible.\n        Type '{ type: string; body: { type: string; layout: string; contents: ({ type: string; text: string; weight: string; size: string; color: string; wrap?: undefined; margin?: undefined; } | { type: string; text: string; ... 4 more ...; margin?: undefined; } | { ...; })[]; }; footer: { ...; }; }' is not assignable to type 'FlexContainer'.\n          Type '{ type: string; body: { type: string; layout: string; contents: ({ type: string; text: string; weight: string; size: string; color: string; wrap?: undefined; margin?: undefined; } | { type: string; text: string; ... 4 more ...; margin?: undefined; } | { ...; })[]; }; footer: { ...; }; }' is not assignable to type 'FlexBubble'.\n            Types of property 'type' are incompatible.\n              Type 'string' is not assignable to type '\"bubble\"'.\nsrc/middleware/authMiddleware.ts(33,16): error TS2769: No overload matches this call.\n  Overload 1 of 2, '(this: ModelStatic<Member>, options: NonNullFindOptions<MemberAttributes>): Promise<Member>', gave the following error.\n    Object literal may only specify known properties, and 'line_uid' does not exist in type 'WhereOptions<MemberAttributes>'.\n  Overload 2 of 2, '(this: ModelStatic<Member>, options?: FindOptions<MemberAttributes> | undefined): Promise<Member | null>', gave the following error.\n    Object literal may only specify known properties, and 'line_uid' does not exist in type 'WhereOptions<MemberAttributes>'.\nsrc/middleware/authMiddleware.ts(70,18): error TS2769: No overload matches this call.\n  Overload 1 of 2, '(this: ModelStatic<Member>, options: NonNullFindOptions<MemberAttributes>): Promise<Member>', gave the following error.\n    Object literal may only specify known properties, and 'line_uid' does not exist in type 'WhereOptions<MemberAttributes>'.\n  Overload 2 of 2, '(this: ModelStatic<Member>, options?: FindOptions<MemberAttributes> | undefined): Promise<Member | null>', gave the following error.\n    Object literal may only specify known properties, and 'line_uid' does not exist in type 'WhereOptions<MemberAttributes>'.\nsrc/scripts/test/testServiceFunctions.ts(61,73): error TS2339: Property 'line_uid' does not exist on type 'Member'.\nsrc/scripts/tools/fullSystemTest.ts(10,41): error TS2307: Cannot find module '../controllers/lineController' or its corresponding type declarations.\nsrc/scripts/tools/fullSystemTest.ts(11,43): error TS2307: Cannot find module '../controllers/memberController' or its corresponding type declarations.\nsrc/scripts/tools/fullSystemTest.ts(12,49): error TS2307: Cannot find module '../controllers/announcementController' or its corresponding type declarations.\nsrc/scripts/tools/fullSystemTest.ts(13,44): error TS2307: Cannot find module '../controllers/checkinController' or its corresponding type declarations.\nsrc/scripts/tools/fullSystemTest.ts(14,41): error TS2307: Cannot find module '../controllers/liffController' or its corresponding type declarations.\nsrc/scripts/tools/fullSystemTest.ts(24,38): error TS2307: Cannot find module '../routes/line/webhook' or its corresponding type declarations.\nsrc/scripts/tools/fullSystemTest.ts(25,39): error TS2307: Cannot find module '../routes/api/members' or its corresponding type declarations.\nsrc/scripts/tools/fullSystemTest.ts(26,45): error TS2307: Cannot find module '../routes/api/announcements' or its corresponding type declarations.\nsrc/scripts/tools/fullSystemTest.ts(27,40): error TS2307: Cannot find module '../routes/api/checkin' or its corresponding type declarations.\nsrc/scripts/tools/fullSystemTest.ts(28,37): error TS2307: Cannot find module '../routes/api/liff' or its corresponding type declarations.\nsrc/scripts/tools/fullSystemTest.ts(29,38): error TS2307: Cannot find module '../routes/admin' or its corresponding type declarations.\nsrc/scripts/tools/fullSystemTest.ts(39,38): error TS2307: Cannot find module '../services/lineService' or its corresponding type declarations.\nsrc/scripts/tools/fullSystemTest.ts(49,33): error TS2307: Cannot find module '../models/index' or its corresponding type declarations.\nsrc/scripts/tools/quickStart.ts(4,24): error TS2307: Cannot find module '../config/config' or its corresponding type declarations.\nsrc/scripts/tools/quickStart.ts(5,23): error TS2307: Cannot find module '../config/database' or its corresponding type declarations.\nsrc/scripts/tools/quickStart.ts(7,25): error TS2307: Cannot find module '../routes/admin' or its corresponding type declarations.\nsrc/scripts/tools/quickStart.ts(8,26): error TS2307: Cannot find module '../routes/api/members' or its corresponding type declarations.\nsrc/scripts/tools/quickStart.ts(9,27): error TS2307: Cannot find module '../routes/api/checkin' or its corresponding type declarations.\nsrc/scripts/tools/quickStart.ts(10,24): error TS2307: Cannot find module '../routes/api/liff' or its corresponding type declarations.\nsrc/scripts/tools/quickStart.ts(11,32): error TS2307: Cannot find module '../routes/api/announcements' or its corresponding type declarations.\nsrc/scripts/tools/quickStart.ts(12,25): error TS2307: Cannot find module '../routes/line/webhook' or its corresponding type declarations.\nsrc/scripts/tools/testLineModule.ts(3,40): error TS2307: Cannot find module '../types/line' or its corresponding type declarations.\nsrc/scripts/tools/testLineModule.ts(40,34): error TS2307: Cannot find module '../routes/line/webhook' or its corresponding type declarations.\nsrc/scripts/tools/testLineWebhook.ts(4,24): error TS2307: Cannot find module '../config/config' or its corresponding type declarations.\nsrc/scripts/tools/testRoutesRefactor.ts(2,30): error TS2307: Cannot find module '../controllers/memberController' or its corresponding type declarations.\nsrc/scripts/tools/testRoutesRefactor.ts(3,36): error TS2307: Cannot find module '../controllers/announcementController' or its corresponding type declarations.\nsrc/scripts/tools/testRoutesRefactor.ts(4,31): error TS2307: Cannot find module '../controllers/checkinController' or its corresponding type declarations.\nsrc/scripts/tools/testRoutesRefactor.ts(5,28): error TS2307: Cannot find module '../controllers/liffController' or its corresponding type declarations.\nsrc/scripts/tools/testRoutesRefactor.ts(24,39): error TS2307: Cannot find module '../routes/api/members' or its corresponding type declarations.\nsrc/scripts/tools/testRoutesRefactor.ts(25,45): error TS2307: Cannot find module '../routes/api/announcements' or its corresponding type declarations.\nsrc/scripts/tools/testRoutesRefactor.ts(26,40): error TS2307: Cannot find module '../routes/api/checkin' or its corresponding type declarations.\nsrc/scripts/tools/testRoutesRefactor.ts(27,37): error TS2307: Cannot find module '../routes/api/liff' or its corresponding type declarations.\nsrc/services/adminService.ts(107,11): error TS2769: No overload matches this call.\n  Overload 1 of 2, '(this: ModelStatic<...>, options: { logging?: boolean | ((sql: string, timing?: number | undefined) => void) | undefined; col?: string | undefined; where?: WhereOptions<MemberAttributes> | undefined; ... 7 more ...; group: GroupOption; }): Promise<...>', gave the following error.\n    Type '{ line_user_id: { [OpTypes.ne]: null; }; status: string; }' is not assignable to type 'WhereOptions<MemberAttributes> | undefined'.\n      Types of property 'line_user_id' are incompatible.\n        Type '{ [OpTypes.ne]: null; }' is not assignable to type 'WhereAttributeHashValue<string | undefined>'.\n          Types of property '[Op.ne]' are incompatible.\n            Type 'null' is not assignable to type 'string | number | boolean | Date | Fn | Col | Literal | { [OpTypes.col]: string; } | Cast | Buffer<ArrayBufferLike> | { [OpTypes.all]: Literal | ... 1 more ... | { ...; }; } | { ...; } | { ...; } | { ...; } | undefined'.\n  Overload 2 of 2, '(this: ModelStatic<Member>, options?: Omit<CountOptions<MemberAttributes>, \"group\"> | undefined): Promise<number>', gave the following error.\n    Type '{ line_user_id: { [OpTypes.ne]: null; }; status: string; }' is not assignable to type 'WhereOptions<MemberAttributes> | undefined'.\n      Types of property 'line_user_id' are incompatible.\n        Type '{ [OpTypes.ne]: null; }' is not assignable to type 'WhereAttributeHashValue<string | undefined>'.\n          Types of property '[Op.ne]' are incompatible.\n            Type 'null' is not assignable to type 'string | number | boolean | Date | Fn | Col | Literal | { [OpTypes.col]: string; } | Cast | Buffer<ArrayBufferLike> | { [OpTypes.all]: Literal | ... 1 more ... | { ...; }; } | { ...; } | { ...; } | { ...; } | undefined'.\nsrc/services/index.ts(7,40): error TS2307: Cannot find module './lineService' or its corresponding type declarations.\nsrc/types/index.ts(82,1): error TS2308: Module './registration' has already exported a member named 'PaymentStatus'. Consider explicitly re-exporting to resolve the ambiguity.\nsrc/types/role.ts(67,37): error TS2345: Argument of type 'Role' is not assignable to parameter of type 'Role.President | Role.Admin'.\nsrc/utils/diagnostics/index.ts(3,10): error TS2305: Module '\"./envCheck\"' has no exported member 'checkEnvironment'.\nsrc/utils/diagnostics/index.ts(8,10): error TS2724: '\"./systemHealth\"' has no exported member named 'SystemHealthChecker'. Did you mean 'runSystemHealthCheck'?\nsrc/utils/diagnostics/index.ts(13,10): error TS2305: Module '\"./liffDiagnostics\"' has no exported member 'default'.\nsrc/utils/diagnostics/index.ts(16,10): error TS2305: Module '\"./troubleshoot\"' has no exported member 'generateTroubleshootReport'.\nsrc/utils/diagnostics/index.ts(17,10): error TS2305: Module '\"./troubleshootReport\"' has no exported member 'createTroubleshootReport'.\nsrc/utils/diagnostics/index.ts(18,10): error TS2305: Module '\"./detailedTroubleshootReport\"' has no exported member 'generateDetailedReport'.\nsrc/utils/diagnostics/index.ts(45,28): error TS2304: Cannot find name 'SystemDiagnostics'.\nsrc/utils/diagnostics/index.ts(46,26): error TS2304: Cannot find name 'LiffDiagnostics'.\nsrc/utils/diagnostics/index.ts(47,31): error TS2552: Cannot find name 'SystemHealthChecker'. Did you mean 'healthChecker'?\nsrc/utils/diagnostics/troubleshoot.ts(279,53): error TS2307: Cannot find module '../tools/systemHealth' or its corresponding type declarations.\nsrc/utils/index.ts(7,38): error TS2307: Cannot find module './envCheck' or its corresponding type declarations.\nsrc/utils/index.ts(8,37): error TS2307: Cannot find module './envValidation' or its corresponding type declarations.\n",
      "suggestion": "修正 TypeScript 語法錯誤",
      "status": "error"
    },
    {
      "category": "Routes",
      "severity": "low",
      "issue": "src/routes/api/liff.ts 使用環境變數但未載入 dotenv",
      "details": "可能導致環境變數未正確載入",
      "suggestion": "確認 dotenv 已在主程式載入",
      "status": "info"
    },
    {
      "category": "前端LIFF",
      "severity": "high",
      "issue": "LIFF App ID 未設定",
      "details": "public/liff.html 缺少 LIFF App ID",
      "suggestion": "設定正確的 LIFF App ID",
      "status": "error"
    },
    {
      "category": "LIFF服務",
      "severity": "high",
      "issue": "LIFF 服務未正確配置",
      "details": "Health Check 顯示 LIFF 服務狀態異常",
      "suggestion": "檢查 LIFF 應用程式設定",
      "status": "error"
    }
  ]
}